@import "tailwindcss";

/* 1. DEFINE YOUR PALETTE */
:root {
  --void: #0D1B2A;
  --navy: #1B263B;
  --slate: #415A77;
  --mist: #778DA9;
  --ghost: #E0E1DD;

  --background: var(--void);
  --foreground: var(--ghost);
}

/* 2. CONFIGURE TAILWIND V4 THEME */
@theme {
  --color-void: var(--void);
  --color-navy: var(--navy);
  --color-slate: var(--slate);
  --color-mist: var(--mist);
  --color-ghost: var(--ghost);

  --font-family-sans: var(--font-geist-sans), "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-family-mono: var(--font-geist-mono), "Fira Code", ui-monospace, monospace;
  
  --ease-fluid: cubic-bezier(0.3, 0, 0, 1);
}

/* 3. PERFORMANCE & SCROLL FIXES (CRUCIAL) */
html {
  /* IMPORTANT: Disable CSS smooth scroll because Lenis handles it. 
     Having both active causes "jittering" and lag. */
  scroll-behavior: auto !important;
}

/* Prevent elastic bounce on Mac/iOS which breaks smooth scroll triggers */
body {
  overscroll-behavior-y: none;
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-family-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* 4. GPU ACCELERATION (Force browser to use Graphics Card) */
.motion-gpu, 
.glass-panel,
img,
section {
  transform: translateZ(0); /* Triggers GPU layer */
  backface-visibility: hidden;
  perspective: 1000;
  will-change: transform, opacity;
}

/* 5. BLUR OPTIMIZATION (The #1 cause of lag) */
.glass-panel {
  /* Reducing blur slightly from 40px to 12px significantly boosts FPS */
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  background: rgba(27, 38, 59, 0.7);
}

/* 6. CONTENT VISIBILITY (Huge Performance Boost) */
/* Tells the browser to skip rendering sections that are far off-screen */
section {
  content-visibility: auto;
  contain-intrinsic-size: 1px 1000px;
}

/* 7. CUSTOM TEXT SELECTION */
::selection {
  background-color: var(--slate);
  color: var(--ghost);
}

/* 8. CUSTOM SCROLLBAR (Sleek and Performance friendly) */
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-track {
  background: var(--void);
}
::-webkit-scrollbar-thumb {
  background: var(--slate);
  border-radius: 10px;
}

/* 9. IMAGE OPTIMIZATION */
img {
  content-visibility: auto;
  /* Prevent images from shifting layout while loading */
  aspect-ratio: attr(width) / attr(height);
}

/* 10. LENIS SPECIFIC STYLES */
html.lenis, html.lenis body {
  height: auto;
}
.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}
.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}
.lenis.lenis-stopped {
  overflow: hidden;
}
.lenis.lenis-scrolling iframe {
  pointer-events: none;
}